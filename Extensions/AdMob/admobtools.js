var gdjs;(function(J){let X;(function(r){const e=new J.Logger("AdMob"),H={appOpen:{android:"ca-app-pub-3940256099942544/9257395921",ios:"ca-app-pub-3940256099942544/5575463023"},banner:{android:"ca-app-pub-3940256099942544/6300978111",ios:"ca-app-pub-3940256099942544/2934735716"},interstitial:{android:"ca-app-pub-3940256099942544/1033173712",ios:"ca-app-pub-3940256099942544/4411468910"},interstitialVideo:{android:"ca-app-pub-3940256099942544/8691691433",ios:"ca-app-pub-3940256099942544/5135589807"},rewarded:{android:"ca-app-pub-3940256099942544/5224354917",ios:"ca-app-pub-3940256099942544/1712485313"},rewardedInterstitial:{android:"ca-app-pub-3940256099942544/5354046379",ios:"ca-app-pub-3940256099942544/6978759866"},native:{android:"ca-app-pub-3940256099942544/2247696110",ios:"ca-app-pub-3940256099942544/3986624511"},nativeVideo:{android:"ca-app-pub-3940256099942544/1044960115",ios:"ca-app-pub-3940256099942544/2521693316"}};let d;(function(s){s[s.BANNER=0]="BANNER",s[s.LARGE_BANNER=1]="LARGE_BANNER",s[s.MEDIUM_RECTANGLE=2]="MEDIUM_RECTANGLE",s[s.FULL_BANNER=3]="FULL_BANNER",s[s.LEADERBOARD=4]="LEADERBOARD",s[s.SMART_BANNER=5]="SMART_BANNER"})(d||(d={}));const Y={BANNER:0,LARGE_BANNER:1,MEDIUM_RECTANGLE:2,FULL_BANNER:3,LEADERBOARD:4,SMART_BANNER:5};let G;(function(n){n[n.Portrait=1]="Portrait",n[n.PortraitUpsideDown=2]="PortraitUpsideDown",n[n.LandscapeRight=3]="LandscapeRight",n[n.LandscapeLeft=4]="LandscapeLeft"})(G||(G={}));let A=!1,w=!1,W=!1,h,K=5,z=!1,k=!1,u=!1,O=!1,p,E=!1,g=!1,V=!1,y=!1,R,I=!1,m=!1,U=!1,x=!1,f,N=!1,L=!1,_=!1,q=!1,b=!1,c,B=!1,v=!1,D=!1,F=!1,S=!1,C="0",P=null;const Q=async()=>{if(A){e.warn("AdMob is already started.");return}if(w){e.warn("AdMob is already starting.");return}try{if(e.info("Starting AdMob."),w=!0,cordova.platformId==="ios")try{let t=await consent.trackingAuthorizationStatus();t===0&&(t=await consent.requestTrackingAuthorization()),(t===1||t===2)&&(C="1"),C="0"}catch(t){e.error("Error while asking for tracking authorization, continuing:",t)}try{await consent.getConsentStatus()===consent.ConsentStatus.Required&&await consent.requestInfoUpdate(),await consent.loadAndShowIfRequired()}catch(t){e.error("Error while asking for consent, continuing:",t)}await admob.start(),e.info("AdMob successfully started."),w=!1,A=!0}catch(t){e.error("Error while starting AdMob:",t),w=!1,A=!1}};document.addEventListener("deviceready",async()=>{w=!0,P=setTimeout(async()=>{w=!1,await Q()},2e3)},!1),r.preventAdmobAutoInitialization=()=>{P&&(w=!1,clearTimeout(P),P=null)},r.initializeAdmob=async()=>{r.preventAdmobAutoInitialization(),await Q()},r.isAdmobInitialized=()=>A,r.isAdmobInitializing=()=>w;const l=async()=>{if(typeof cordova=="undefined")return e.warn("We are not on mobile, AdMob will not be available."),!1;if(typeof admob=="undefined")return e.warn("AdMob has not been configured properly."),!1;if(!A){if(w){let t=0;for(;!A&&t<5e3;)await new Promise(a=>setTimeout(a,100)),t+=100}if(!A)return e.warn("AdMob is not started."),!1}return!0},T=(t,a,o)=>{if(typeof cordova=="undefined"){e.warn("Cordova is not available.");return}return cordova.platformId==="android"?W?H[o].android:t:cordova.platformId==="ios"?W?H[o].ios:a:(e.error("Unsupported platform: ",cordova.platformId),null)};r.setTestMode=async t=>{!await l()||(e.info("Setting AdMob test mode to:",t),W=t)},r.isAppOpenLoading=()=>I,r.isAppOpenReady=()=>m,r.isAppOpenShowing=()=>U,r.isAppOpenErrored=()=>x,r.loadAppOpen=async(t,a,o,i)=>{if(!await l()||I||U)return;const n=T(t,a,"appOpen");if(!!n){I=!0,m=!1,x=!1,R=new admob.AppOpenAd({adUnitId:n,orientation:o?4:1}),R.on("load",()=>{m=!0,I=!1}),R.on("loadfail",()=>{I=!1,x=!0}),R.on("show",()=>{U=!0,m=!1}),R.on("showfail",()=>{U=!1,x=!0}),R.on("dismiss",()=>{U=!1});try{e.info("Loading Admob App Open."),await R.load(),e.info("AdMob App Open successfully loaded."),I=!1,m=!0,i&&r.showAppOpen()}catch(te){e.error("Error while loading an App Open:",te),I=!1,m=!1,x=!0}}},r.showAppOpen=async()=>{if(!!await l()){if(!R){e.warn("App Open has not been set up, call loadAppOpen first.");return}if(!m){e.info("App Open not loaded yet, cannot display it.");return}x=!1;try{e.info("Showing AdMob App Open."),await R.show()}catch(t){e.error("Error while showing an AdMob App Open:",t),U=!1,x=!0}}},r.isBannerConfigured=()=>z,r.isBannerLoaded=()=>k,r.isBannerShowing=()=>u,r.isBannerErrored=()=>O,r.setBannerAdSizeType=t=>{K=Y[t]||5},r.setupBanner=async(t,a,o)=>{if(!await l())return;const i=T(t,a,"banner");!i||(h&&u&&(e.info("Banner already visible, hiding it to display new one."),await r.hideBanner()),z=!1,k=!1,h=new admob.BannerAd({adUnitId:i,position:o?"top":"bottom",size:K,offset:0,npa:C}),h.on("load",()=>{u=!0,k=!0}),h.on("loadfail",()=>{u=!1,k=!1,O=!0}),z=!0)},r.showBanner=async()=>{if(!h){e.info("Banner not configured, use setupBanner first.");return}if(u){e.info("Banner already visible. Ignoring.");return}O=!1;try{e.info("Showing AdMob banner."),await h.show(),k&&(u=!0)}catch(t){u=!1,O=!0,e.error("Error while showing an AdMob banner:",t)}},r.hideBanner=async()=>{if(!!await l()){if(!h||!u){e.warn("No banner is being shown.");return}await h.hide(),u=!1}},r.isInterstitialLoading=()=>E,r.isInterstitialReady=()=>g,r.isInterstitialShowing=()=>V,r.isInterstitialErrored=()=>y,r.loadInterstitial=async(t,a,o)=>{if(!await l()||E||V)return;const i=T(t,a,"interstitial");if(!!i){E=!0,g=!1,y=!1,p=new admob.InterstitialAd({adUnitId:i,npa:C}),p.on("load",()=>{g=!0,E=!1}),p.on("loadfail",()=>{E=!1,y=!0}),p.on("show",()=>{V=!0,g=!1}),p.on("showfail",()=>{V=!1,y=!0}),p.on("dismiss",()=>{V=!1});try{e.info("Loading Admob interstitial."),await p.load(),e.info("AdMob interstitial successfully loaded."),E=!1,g=!0,o&&r.showInterstitial()}catch(n){e.error("Error while loading a interstitial:",n),E=!1,g=!1,y=!0}}},r.showInterstitial=async()=>{if(!!await l()){if(!p){e.warn("Interstitial has not been set up, call loadInterstitial first.");return}if(!g){e.info("Interstitial not loaded yet, cannot display it.");return}y=!1;try{e.info("Showing AdMob interstitial."),await p.show()}catch(t){e.error("Error while showing an AdMob interstitial:",t),V=!1,y=!0}}},r.isRewardedInterstitialLoading=()=>N,r.isRewardedInterstitialReady=()=>L,r.isRewardedInterstitialShowing=()=>_,r.isRewardedInterstitialErrored=()=>b,r.wasRewardedInterstitialRewardReceived=function(t){const a=q;return t&&(q=!1),a},r.loadRewardedInterstitial=async(t,a,o)=>{if(!await l()||N||_)return;const i=T(t,a,"rewardedInterstitial");if(!!i){N=!0,L=!1,b=!1,f=new admob.RewardedInterstitialAd({adUnitId:i,npa:C}),f.on("load",()=>{L=!0,N=!1}),f.on("loadfail",()=>{N=!1,b=!0}),f.on("show",()=>{_=!0,L=!1}),f.on("showfail",()=>{_=!1,b=!0}),f.on("dismiss",()=>{_=!1}),f.on("reward",()=>{q=!0});try{e.info("Loading AdMob rewarded interstitial."),await f.load(),e.info("AdMob rewarded interstitial successfully loaded."),N=!1,L=!0,o&&r.showRewardedInterstitial()}catch(n){N=!1,L=!1,b=!0,e.error("Error while loading a rewarded interstitial:",n)}}},r.showRewardedInterstitial=async()=>{if(!!await l()){if(!f){e.warn("interstitial has not been set up, call loadRewardedInterstitial first.");return}L||e.info("Rewarded interstitial not loaded yet, cannot display it."),b=!1;try{e.info("Showing AdMob rewarded interstitial."),await f.show()}catch(t){e.error("Error while showing an AdMob rewarded interstitial:",t),_=!1,b=!0}}},r.markRewardedInterstitialRewardAsClaimed=()=>{q=!1},r.isRewardedVideoLoading=()=>B,r.isRewardedVideoReady=()=>v,r.isRewardedVideoShowing=()=>D,r.isRewardedVideoErrored=()=>S,r.wasRewardedVideoRewardReceived=function(t){const a=F;return t&&(F=!1),a},r.loadRewardedVideo=async(t,a,o)=>{if(!await l()||B||D)return;const i=T(t,a,"rewarded");if(!!i){B=!0,v=!1,S=!1,c=new admob.RewardedAd({adUnitId:i,npa:C}),c.on("load",()=>{v=!0,B=!1}),c.on("loadfail",()=>{B=!1,S=!0}),c.on("show",()=>{D=!0,v=!1}),c.on("showfail",()=>{D=!1,S=!0}),c.on("dismiss",()=>{D=!1}),c.on("reward",()=>{F=!0});try{e.info("Loading AdMob rewarded video."),await c.load(),e.info("AdMob rewarded video successfully loaded."),B=!1,v=!0,o&&r.showRewardedVideo()}catch(n){B=!1,v=!1,S=!0,e.error("Error while loading a rewarded video:",n)}}},r.showRewardedVideo=async()=>{if(!!await l()){if(!c){e.warn("Video has not been set up, call loadRewardedVideo first.");return}v||e.info("Rewarded video not loaded yet, cannot display it."),S=!1;try{e.info("Showing AdMob rewarded video."),await c.show()}catch(t){e.error("Error while showing an AdMob rewarded video:",t),D=!1,S=!0}}},r.markRewardedVideoRewardAsClaimed=()=>{F=!1}})(X=J.adMob||(J.adMob={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=admobtools.js.map
